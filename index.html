<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Little Witch ‚ú®</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        body { 
            display: flex; flex-direction: column; align-items: center; justify-content: center; 
            height: 100vh; margin: 0; 
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); 
            color: #e9d5ff; font-family: 'Georgia', serif; overflow: hidden; text-align: center; padding: 20px; 
        }
        #star-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }
        
        .container { 
            max-width: 500px; z-index: 10; 
            background: rgba(255, 255, 255, 0.05); 
            padding: 40px; border-radius: 40px; 
            border: 1.5px solid rgba(233, 213, 255, 0.3);
            box-shadow: 0 0 40px rgba(168, 85, 247, 0.2);
            backdrop-filter: blur(12px);
            animation: float 5s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(1deg); }
        }

        h1 { font-size: 2rem; color: #f3e8ff; text-shadow: 0 0 15px #a855f7; margin-bottom: 20px; }
        p { font-size: 1.3rem; line-height: 1.6; color: #d8b4fe; }

        .buttons { display: flex; gap: 20px; align-items: center; justify-content: center; margin-top: 30px; position: relative; height: 100px; }
        
        button { 
            padding: 14px 28px; font-size: 1.1rem; border: none; 
            border-radius: 20px; cursor: pointer; font-weight: bold; 
            background: #7e22ce; color: white; 
            box-shadow: 0 4px 15px rgba(126, 34, 206, 0.4);
            transition: all 0.3s ease;
        }

        button:hover { background: #9333ea; transform: scale(1.05); box-shadow: 0 0 20px #c084fc; }

        #noBtn { background: rgba(255, 255, 255, 0.1); color: #e9d5ff; border: 1px solid rgba(233, 213, 255, 0.2); }

        .hidden { display: none; }
        .emoji { font-size: 3.5rem; margin-bottom: 10px; filter: drop-shadow(0 0 10px #a855f7); }

        /* Magical Gift */
        #gift-box { 
            font-size: 6rem; cursor: pointer; display: inline-block; 
            animation: pulse-glow 2s infinite; 
        }

        @keyframes pulse-glow {
            0%, 100% { transform: scale(1); filter: drop-shadow(0 0 10px #a855f7); }
            50% { transform: scale(1.1); filter: drop-shadow(0 0 25px #d8b4fe); }
        }

        #giant-kiss { font-size: 12rem; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); transition: 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275); z-index: 2000; }
        #giant-kiss.show { transform: translate(-50%, -50%) scale(1.5); }
        #music-container { position: absolute; width: 1px; height: 1px; opacity: 0; overflow: hidden; }
    </style>
</head>
<body>
    <canvas id="star-canvas"></canvas>
    <div id="music-container"><div id="player"></div></div>

    <div class="container">
        <div id="step1">
            <div class="emoji">‚ú®</div>
            <h1>Hi My Babbyy‚Ä¶ ‚ù§Ô∏è</h1>
            <button onclick="startExperience()">Begin the Magic ‚ú®</button>
        </div>
        <div id="step2" class="hidden">
            <div class="emoji">üåô</div>
            <h1>Hiii My Baby Girl</h1>
            <button onclick="nextStep(3)">Next üå∏</button>
        </div>
        <div id="step3" class="hidden">
            <div class="emoji">ü™Ñ</div>
            <h1>Hiii My Sexy Prettiest Baby Girl</h1>
            <button onclick="nextStep(4)">Stay enchanted... üíñ</button>
        </div>
        <div id="step4" class="hidden">
            <div class="emoji">üå∏</div>
            <h1 id="greeting">Good Morning!</h1>
            <button onclick="nextStep(5)">Open My Heart üíå</button>
        </div>

        <div id="final-step" class="hidden">
            <p>Every moment with you feels like a dream I never want to wake up from. Will you be my Valentine? ‚ú®</p>
            <div class="buttons">
                <button id="yesBtn">Yes</button>
                <button id="noBtn">No</button>
            </div>
        </div>

        <div id="success-screen" class="hidden">
            <h1>YOU'RE MINE. ‚ù§Ô∏è</h1>
            <div id="gift-box" onclick="revealKiss()">üéÅ</div>
            <p style="color: #e9d5ff; margin-top: 20px;">Open your gift, little witch...</p>
        </div>

        <div id="final-message" class="hidden">
            <h1 style="font-size: 1.6rem; line-height: 1.4;">I love you so much,<br>I‚Äôm sorry about yesterday‚Äôs night. ‚ú®ü¶ã</h1>
        </div>
    </div>

    <div id="giant-kiss">üòò</div>

    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        let player;
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '0', width: '0',
                videoId: 'uS_319_N97k', // Fireboy DML - Like You
                playerVars: { 'autoplay': 0, 'controls': 0 },
                events: { 'onReady': () => console.log("Ready") }
            });
        }

        function startExperience() {
            if(player && player.playVideo) player.playVideo();
            nextStep(2);
        }

        function nextStep(step) {
            document.querySelectorAll('.container > div').forEach(div => div.classList.add('hidden'));
            document.getElementById(step === 5 ? 'final-step' : `step${step}`).classList.remove('hidden');
        }

        // Starry Background Logic
        const canvas = document.getElementById('star-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        const stars = [];
        for(let i=0; i<150; i++) {
            stars.push({x: Math.random()*canvas.width, y: Math.random()*canvas.height, r: Math.random()*1.5, d: Math.random()*150});
        }
        function drawStars() {
            ctx.clearRect(0,0,canvas.width, canvas.height);
            ctx.fillStyle = "white";
            stars.forEach(s => {
                ctx.beginPath();
                ctx.arc(s.x, s.y, s.r, 0, Math.PI*2);
                ctx.fill();
            });
            requestAnimationFrame(drawStars);
        }
        drawStars();

        // Button Chase
        const yesBtn = document.getElementById('yesBtn');
        const noBtn = document.getElementById('noBtn');
        let scale = 1;
        const handleNo = () => {
            noBtn.style.position = "absolute";
            noBtn.style.transform = `translate(${Math.random()*160-80}px, ${Math.random()*160-80}px)`;
            scale += 1.1;
            yesBtn.style.transform = `scale(${scale})`;
            if (scale > 10) { 
                Object.assign(yesBtn.style, { position:"fixed", inset:"0", zIndex:"9999", display:"flex", alignItems:"center", justifyContent:"center", fontSize:"3rem", background:"#7e22ce" }); 
                yesBtn.innerText = "YES! ‚ù§Ô∏è"; 
            }
        };
        noBtn.addEventListener('mouseover', handleNo);
        noBtn.addEventListener('touchstart', (e) => { e.preventDefault(); handleNo(); });

        yesBtn.addEventListener('click', () => {
            document.getElementById('final-step').classList.add('hidden');
            document.getElementById('success-screen').classList.remove('hidden');
            confetti({ particleCount: 200, spread: 70, colors: ['#a855f7', '#d8b4fe', '#ffffff'] });
        });

        function revealKiss() {
            const kiss = document.getElementById('giant-kiss');
            kiss.classList.add('show');
            document.getElementById('success-screen').classList.add('hidden');
            setTimeout(() => { kiss.classList.remove('show'); document.getElementById('final-message').classList.remove('hidden'); }, 2000);
        }

        const hours = new Date().getHours();
        document.getElementById('greeting').innerText = hours < 12 ? "Good Morning! ‚òÄÔ∏è" : hours < 17 ? "Good Afternoon! ‚òï" : "Good Evening! üåô";
    </script>
</body>
</html>
